(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"0c1a":function(e,t,s){"use strict";s.r(t);var render=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"column items-center justify-start login-page restore-page-wrapper",class:{"dark-theme":"true"===e.$store.state.settings.lightMode}},[s("div",{staticClass:"full-width full-height"},[s("img",{staticClass:"head-login",attrs:{src:"statics/login_ui_"+("true"===e.$store.state.settings.lightMode?"dark":"light")+".png",alt:"head-login"}}),s("div",{staticClass:"form_wrapper full-height column q-pa-lg"},[s("span",{staticClass:"text-h2 q-pl-md"},[e._v("VERTO")]),0===e.step?s("span",{staticClass:"text-h3 q-pl-md q-pr-md q-mt-md"},[e._v("Do you want to create or restore your 24 word mnemonic secret seed phrase?")]):e._e(),2===e.step?s("span",{staticClass:"text-h3 q-pl-md q-pr-md q-mt-md"},[e._v("Recovery seed phrase.")]):e._e(),3===e.step?s("span",{staticClass:"text-h3 q-pl-md q-pr-md q-mt-md"},[e._v("Select the first and the last word")]):e._e(),4===e.step?s("span",{staticClass:"text-h3 q-pl-md q-pr-md q-mt-md"},[e._v("Paste your recovery seed phrase.")]):e._e(),e.hasError&&3===e.step?s("p",{staticClass:"q-pl-md q-pr-md q-mt-md q-mb-none"},[e._v(e._s(e.errorMessage))]):e._e(),4===e.step?s("p",{staticClass:"q-pl-md q-pr-md q-mt-md q-mb-none"},[s("span",[e._v("If you do not have a recovery seed, go back and choose create.")]),s("ul",{},e._l(e.wordOptions,(function(t,r){return s("li",{key:r},[e._v(" "+e._s(t.label))])})),0)]):e._e(),2===e.step?s("p",{staticClass:"q-pl-md q-pr-md q-mt-md q-mb-none"},[e._v("\n          This list of words is used to generate all your HD wallets.\n          You can use them to restore and access your wallet at any time. Save these words in the right order in a\n          secure location. Nobody will be able to help if you lose them !\n        ")]):e._e(),s("div",{staticClass:"password_wrapper q-pl-md q-pr-md"},[0===e.step?s("div",{staticClass:"full-width"},[s("div",{staticClass:"full-width"}),s("div",{staticClass:"unlock_restore flex justify-between items-end q-mt-sm"},[s("q-btn",{staticClass:"btn__blue unlock_btn",attrs:{unelevated:"",color:"grey-4",outline:"",size:"md","no-caps":"",label:"Restore"},on:{click:function(t){e.step=4}}}),s("q-btn",{staticClass:"restore_btn",attrs:{flat:"",size:"md","no-caps":"",color:"grey-4",label:"Create"},on:{click:function(t){return e.createMnemonic()}}})],1)]):e._e(),2===e.step?s("div",{staticClass:"full-width"},[s("div",{staticClass:"full-width"},[s("div",{staticClass:"flex justify-between"},[s("q-btn",{staticClass:"btn-flat__blue",attrs:{flat:"",size:"sm",label:"Download",icon:"get_app"},on:{click:function(t){return e.downloadMnemonic()}}}),s("q-btn",{staticClass:"btn-flat__blue",attrs:{flat:"",size:"sm",unelevated:"",label:"Copy",icon:"o_file_copy"},on:{click:function(t){return e.copy2clip(e.mnemonic)}}})],1),s("q-input",{ref:"mnemonic",staticClass:"mnemonic",attrs:{type:"textarea",readonly:"",outlined:"",dark:"true"===e.$store.state.settings.lightMode},on:{focus:function(e){return e.target.select()}},model:{value:e.mnemonic,callback:function(t){e.mnemonic=t},expression:"mnemonic"}}),s("q-btn",{staticClass:"btn-flat__blue",attrs:{size:"sm",label:"Regenerate",flat:"",icon:"cached"},on:{click:e.createMnemonic}})],1),s("div",{staticClass:"unlock_restore flex justify-between items-end q-mt-sm"},[s("q-btn",{staticClass:"btn__blue unlock_btn",attrs:{unelevated:"",color:"grey-4",outline:"",size:"md","no-caps":"",loading:e.spinnervisible,label:e.downloaded?"Next":"Verify"},on:{click:function(t){e.downloaded?e.saveMnemonic():e.step=3}}}),s("q-btn",{staticClass:"restore_btn",attrs:{flat:"",size:"md","no-caps":"",color:"grey-8",label:"Back"},on:{click:function(t){return e.$router.back()}}})],1)]):e._e(),3===e.step?s("div",{staticClass:"full-width"},[s("div",{staticClass:"full-width"},[s("words-order-bex",{attrs:{words:e.mnemonic}}),e.vertoPassword?e._e():s("div",[s("q-input",{attrs:{color:"green",label:"Verto Password",debounce:"500",error:!e.goodPassword,"error-message":"The password is incorrect",type:e.isPwd?"password":"text",dark:"true"===e.$store.state.settings.lightMode},on:{input:e.checkVertoPassword},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}],null,!1,3635466494),model:{value:e.vertoPasswordTemp,callback:function(t){e.vertoPasswordTemp=t},expression:"vertoPasswordTemp"}})],1)],1),s("div",{staticClass:"unlock_restore flex justify-between items-end q-mt-sm"},[s("q-btn",{staticClass:"btn__blue unlock_btn",attrs:{unelevated:"",color:"grey-4",outline:"",size:"md","no-caps":"",label:"Next"},on:{click:function(t){return e.saveMnemonic()}}}),s("q-btn",{staticClass:"restore_btn",attrs:{flat:"",size:"md","no-caps":"",color:"grey-8",label:"Back"},on:{click:function(t){e.step=2}}})],1)]):e._e(),4===e.step?s("div",{staticClass:"full-width"},[s("div",{staticClass:"full-width"},[s("h4",{staticClass:"mnemonic--heading",class:"true"===e.$store.state.settings.lightMode?"text-white":""},[e._v("Mnemonic")]),s("q-input",{ref:"mnemonic",staticClass:"mnemonic--field",attrs:{type:"textarea",color:"black",autofocus:"",outlined:"","error-message":"The mnemonic seed is invalid",error:!e.mnemonicValidated,dark:"true"===e.$store.state.settings.lightMode},on:{input:function(t){return e.validateMnemonic()}},model:{value:e.mnemonic,callback:function(t){e.mnemonic=t},expression:"mnemonic"}})],1),s("div",{staticClass:"unlock_restore flex justify-between items-end q-mt-sm"},[s("q-btn",{staticClass:"btn__blue unlock_btn",attrs:{unelevated:"",color:"grey-4",outline:"",size:"md","no-caps":"",loading:e.spinnervisible,label:"Next",disable:!e.mnemonicValidated},on:{click:function(t){return e.saveMnemonic(!0)}}}),s("q-btn",{staticClass:"restore_btn",attrs:{flat:"",size:"md","no-caps":"",color:"grey-8",label:"Back"},on:{click:function(t){return e.$router.back()}}})],1)]):e._e()])])]),s("notify-message")],1)},r=[],a=(s("f5766"),s("967e")),n=s.n(a),i=(s("96cf"),s("fa84")),o=s.n(i),l=s("2b0e"),c=s("f7ec"),d=s("8fee"),WordsOrderBexvue_type_template_id_61734fea_scoped_true_render=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"words-order-wrapper"},[s("div",{staticClass:"words-order-wrapper--list"},[s("div",{staticClass:"words-order-wrapper--list__empty"},[s("p",{staticClass:"text-body1",class:{"text-white":"true"===e.$store.state.settings.lightMode}},[e._v("Choose the first and the last word from the precedent list. We just want to make sure you didn't forget to save it")]),s("q-select",{staticClass:"q-pb-lg",attrs:{set:e.valid=e.isChoiceInvalid(0,e.first),error:!e.valid.success&&null!=e.valid.message,"error-message":e.valid.message,outlined:"",options:e.arrayAlphabericallyOrdered,label:"Select the first word"},model:{value:e.first,callback:function(t){e.first=t},expression:"first"}}),s("q-select",{attrs:{set:e.valid=e.isChoiceInvalid(e.arrayMnemonic.length-1,e.last),error:!e.valid.success&&null!=e.valid.message,"error-message":e.valid.message,outlined:"",options:e.arrayAlphabericallyOrdered,label:"Select the last word"},model:{value:e.last,callback:function(t){e.last=t},expression:"last"}}),e._e()],1),e._e()])])])},u=[],m=s("4db1"),h=s.n(m),p=(s("28a5"),{name:"WordsOrder",props:{words:{type:String,required:!1,default:""}},data:function data(){return{arrayMnemonic:[],first:null,last:null,arrayShuffled:[],arrayOrdered:[],arrayAlphabericallyOrdered:[],arrayShuffleShow:[],arrayTest2:[],arrayTest3:[]}},mounted:function mounted(){this.arrayMnemonic=this.words.split(" "),this.arrayShuffled=h()(this.arrayMnemonic),this.arrayAlphabericallyOrdered=this.arrayShuffled.sort()},computed:{},methods:{isChoiceInvalid:function isChoiceInvalid(e,t){var s={success:!1,message:null};return t&&(this.arrayMnemonic[e]===t?s.success=!0:s.message=t+" is not the "+(0===e?"first":"last")+" word from your mnemonic",this.arrayMnemonic[0]===this.first&&this.arrayMnemonic[this.arrayMnemonic.length-1]===this.last?this.$store.commit("settings/rightOrder",!0):this.$store.commit("settings/rightOrder",!1)),s},chooseMe:function chooseMe(e,t,s){if(s)this.arrayOrdered.push(e),this.$set(this.arrayShuffleShow,t,s);else{this.arrayOrdered=this.arrayOrdered.filter((function(t){return t!==e}));var r=this.arrayShuffled.indexOf(e);this.$set(this.arrayShuffleShow,r,s)}this.$set(this.arrayOrdered);var a=JSON.stringify(this.arrayMnemonic)===JSON.stringify(this.arrayOrdered);this.$store.commit("settings/rightOrder",a)},shuffle:function shuffle(e){var t,s,r=e.length;while(0!==r)s=Math.floor(Math.random()*r),r-=1,t=e[r],e[r]=e[s],e[s]=t;return e}}}),f=p,v=(s("5249"),s("2877")),w=Object(v["a"])(f,WordsOrderBexvue_type_template_id_61734fea_scoped_true_render,u,!1,null,"61734fea",null),g=w.exports,y=s("adc8");l["default"].component("video-bg",c["a"]);var b=s("29c9"),_=s("9bf1");_.default&&(_=_.default);var C={components:{NotifyMessage:y["a"],WordsOrderBex:g},data:function data(){return{step:2,chainCoin:1,isPwd:!0,words:24,downloaded:!1,wordOptions:[{label:"Verto (24 words)",value:24},{label:"Metamask (12 words)",value:12}],mnemonicValidated:"",goodPassword:!0,vertoPassword:this.$store.state.settings.temporary,vertoPasswordTemp:"",config:this.$store.state.currentwallet.config,chip:null,spinnervisible:!1,mnemonic:this.$store.state.currentwallet.config.mnemonic,arrayMnemonic:[],arrayShuffled:[],arrayOrdered:[],arrayShuffleShow:[],arrayTest2:[],arrayTest3:[],master:null,myWallet:null,verifyingWords:!1}},created:function created(){var e=this;return o()(n.a.mark((function _callee(){return n.a.wrap((function _callee$(t){while(1)switch(t.prev=t.next){case 0:e.vertoPassword||e.$router.push({path:"/"}),e.$route.params.step&&(e.step=parseInt(e.$route.params.step),2===e.step&&e.createMnemonic()),setInterval((function(){e.chainCoin<14?e.chainCoin++:e.chainCoin=1}),500);case 3:case"end":return t.stop()}}),_callee)})))()},mounted:function mounted(){return o()(n.a.mark((function _callee2(){return n.a.wrap((function _callee2$(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),_callee2)})))()},watch:{},computed:{hasError:function hasError(){return this.verifyingWords&&(this.goodPassword&&(!this.$store.state.settings.rightOrder||4===this.step)||!0===this.downloaded)},errorMessage:function errorMessage(){return"The words are not yet in the right order"}},methods:{downloadMnemonic:function downloadMnemonic(){var e=this;return o()(n.a.mark((function _callee3(){var t,s,r,a;return n.a.wrap((function _callee3$(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t=new Date,s=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),t=r+"_"+s+"_"+a+"_"+t.getHours()+"h_"+t.getMinutes()+"m",n.next=8,_.downloadFile(e.mnemonic,"Verto_mnemonic_"+t+".txt");case 8:e.downloaded=!0,n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),e.$store.dispatch("notify/error","Please copy the list of words, an error occured during the download");case 14:case"end":return n.stop()}}),_callee3,null,[[0,11]])})))()},validateMnemonic:function validateMnemonic(){this.mnemonic=this.mnemonic?this.mnemonic.trim():this.mnemonic,this.mnemonicValidated=b.validateMnemonic(this.mnemonic)},createMnemonic:function createMnemonic(){var e=this;return o()(n.a.mark((function _callee4(){return n.a.wrap((function _callee4$(t){while(1)switch(t.prev=t.next){case 0:e.downloaded=!1,e.mnemonic=b.generateMnemonic(256),e.step=2;case 3:case"end":return t.stop()}}),_callee4)})))()},saveMnemonic:function saveMnemonic(){var e=arguments,t=this;return o()(n.a.mark((function _callee5(){var s,r;return n.a.wrap((function _callee5$(a){while(1)switch(a.prev=a.next){case 0:if(e.length>0&&void 0!==e[0]&&e[0],t.verifyingWords=!0,(!t.goodPassword||!t.$store.state.settings.rightOrder&&4!==t.step)&&!0!==t.downloaded){a.next=18;break}if(!t.vertoPassword){a.next=16;break}return t.spinnervisible=!0,t.config.mnemonic=t.mnemonic,a.next=8,t.$configManager.updateConfig(t.vertoPassword,t.config);case 8:return a.next=10,d["a"].Wallet("eos");case 10:return s=a.sent,a.next=13,t.$configManager.saveWalletAndKey("EOS Key",t.vertoPassword,null,s.publicKey,s.privateKey,"verto","mnemonic");case 13:r=a.sent,r&&r.success&&t.$store.dispatch("notify/success","EOS Keys created"),t.$router.push({path:"/create-keys"});case 16:a.next=18;break;case 18:t.spinnervisible=!1;case 19:case"end":return a.stop()}}),_callee5)})))()},checkVertoPassword:function checkVertoPassword(){var e=this,t=this;try{this.$configManager.getConfig(this.vertoPasswordTemp).then((function(e){t.goodPassword=!0,t.vertoPassword=t.vertoPasswordTemp,t.$store.commit("settings/temporary",t.vertoPassword)})).catch((function(s){return t.goodPassword=!1,s&&e.$store.dispatch("notify/error",s),!1}))}catch(s){return t.goodPassword=!1,s&&this.$store.dispatch("notify/error",s),!1}},copy2clip:function copy2clip(e){this.$clipboardWrite(e),this.$store.dispatch("notify/success",this.$t("Main.copied"))}}},k=C,q=(s("ccc2"),Object(v["a"])(k,render,r,!1,null,"61749fae",null));t["default"]=q.exports},5249:function(e,t,s){"use strict";var r=s("cc9f"),a=s.n(r);a.a},"5caa":function(e,t,s){},cc9f:function(e,t,s){},ccc2:function(e,t,s){"use strict";var r=s("5caa"),a=s.n(r);a.a}}]);