(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[53],{5356:function(e,t,s){"use strict";var r=s("a1a0"),i=s.n(r);i.a},a1a0:function(e,t,s){},b380:function(e,t,s){"use strict";s.r(t);var render=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"column flex-center text-white bg-black"},[s("q-card",{staticClass:"bg-black",staticStyle:{width:"100%","max-width":"500px"},attrs:{flat:""}},[s("q-card-section",{staticClass:"text-weight-bold text-center text-uppercase"},[s("q-icon",{staticClass:"float-left",attrs:{name:"help_outline",size:"2.5rem",color:"white"},nativeOn:{click:function(t){return e.$documentationManger.openDocumentation("settings/restoreConfig")}}},[s("q-tooltip",[e._v(e._s(e.$t("SettingsView.help")))])],1),s("big",{staticClass:"titillium q-pa-xl"},[e._v(e._s(e.$t("SettingsView.restore_config")))]),s("q-icon",{staticClass:"float-right",attrs:{name:"close",size:"2.5rem",color:"white"},nativeOn:{click:function(t){return e.goback(t)}}})],1)],1),s("q-card",{staticClass:"bg-black",staticStyle:{width:"100%","max-width":"500px"},attrs:{flat:""}},[s("q-inner-loading",{attrs:{visible:e.spinnervisible}},[s("q-spinner",{attrs:{size:"50px",color:"primary"}})],1),s("q-stepper",{ref:"stepper",attrs:{"done-color":"green","active-color":"green","alternative-labels":"",animated:""},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[s("q-step",{staticClass:" bg-black workflow-step",attrs:{name:1,done:e.step>1,title:"Select Config File"}},[s("q-card-section",{staticClass:"text-white text-center"},[s("div",{staticClass:"flex flex-center text-white q-pa-sm"},[s("file-select",{on:{input:e.checks,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.showThePasswordScreen(t)}},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showNextButtonToPassword,expression:"showNextButtonToPassword"}],staticClass:"text-center q-pa-sm",on:{click:e.showThePasswordScreen}},[s("q-icon",{attrs:{name:"navigate_next",size:"3.2rem",color:"green"}},[s("q-tooltip",[e._v(e._s(e.$t("next")))])],1)],1)])],1),s("q-step",{staticClass:" bg-black workflow-step",attrs:{name:2,done:e.step>2,title:"Verto Password"}},[s("q-card-section",{staticClass:" text-white text-center"},[s("div",[s("q-input",{attrs:{dark:"",color:"green",label:e.$t("CreateVertoPassword.vertopassword"),type:e.isPwd?"password":"text"},on:{input:e.showSubmitKey,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.restoreConfig(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.addWallet.vertoPassword,callback:function(t){e.$set(e.addWallet,"vertoPassword",t)},expression:"addWallet.vertoPassword"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.incorrectPassword,expression:"incorrectPassword"}],staticClass:"text-h6 text-uppercase text-red q-pa-lg"},[e._v("\n              "+e._s(e.$t("Welcome.incorrect"))+"\n            ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.fileEmpty,expression:"fileEmpty"}],staticClass:"text-h6 text-uppercase text-red q-pa-lg"},[e._v("\n              You have to select a config file\n            ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.unknownError,expression:"unknownError"}],staticClass:"text-h6 text-uppercase text-red q-pa-lg"},[e._v("\n              Unknown Error\n            ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.submitKey,expression:"submitKey"}],staticClass:"q-pa-md",on:{click:e.restoreConfig}},[s("q-icon",{attrs:{name:"navigate_next",size:"3.2rem",color:"green"}},[s("q-tooltip",[e._v(e._s(e.$t("next")))])],1)],1),s("q-btn",{attrs:{color:"white",flat:"",label:"Back"},on:{click:function(t){return e.$refs.stepper.previous()}}})],1)],1)],1)],1)],1)},r=[],i=s("967e"),n=s.n(i),a=(s("96cf"),s("fa84")),o=s.n(a),c=s("914b"),l=s("04c6"),u=s("8778"),d={name:"RestoreConfig",components:{FileSelect:c["a"]},data:function data(){return{step:1,isPwd:!0,spinnervisible:!1,contractable:!0,submitKey:!1,fileEmpty:!1,unknownError:!1,incorrectPassword:!1,showNextButtonToPassword:!1,file:null,returnto:"",addWallet:{walletName:"",address:"",addressPriv:"",vertoPassword:"",vertoPasswordError:""}}},created:function created(){this.returnto=this.$route.params.returnto},methods:{goback:function goback(){"settings"===this.returnto?this.$router.push("/settings"):this.$router.push(this.returnto)},showThePasswordScreen:function showThePasswordScreen(){this.showNextButtonToPassword&&this.$refs.stepper.next()},showSubmitKey:function showSubmitKey(){this.resetErrors(),this.addWallet.vertoPassword.length>2?this.submitKey=!0:this.submitKey=!1},resetErrors:function resetErrors(){this.incorrectPassword=!1,this.fileEmpty=!1,this.unknownError=!1},checks:function checks(){this.file?(this.fileEmpty=!1,this.showNextButtonToPassword=!0):(this.fileEmpty=!0,this.showNextButtonToPassword=!1)},restoreConfig:function restoreConfig(){var e=this;return o()(n.a.mark((function _callee2(){var t,s;return n.a.wrap((function _callee2$(r){while(1)switch(r.prev=r.next){case 0:t=e,s=new FileReader,s.onload=o()(n.a.mark((function _callee(){var e;return n.a.wrap((function _callee$(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,this.spinnervisible=!0,r.next=4,l["a"].restoreConfig(s.result,t.addWallet.vertoPassword);case 4:if(e=r.sent,"bad_password"!==e.message){r.next=8;break}throw this.spinnervisible=!1,new Error("Incorrect Password");case 8:this.applicationRefreshing=!0,t.$q.notify({color:"positive",message:"Application refreshing"}),setTimeout((function(){t.$router.push({name:"dashboard"}),this.spinnervisible=!1}),300),r.next=17;break;case 13:r.prev=13,r.t0=r["catch"](0),this.spinnervisible=!1,Object(u["b"])(r.t0);case 17:case"end":return r.stop()}}),_callee,this,[[0,13]])}))),s.readAsText(e.file);case 4:case"end":return r.stop()}}),_callee2)})))()}}},p=d,w=(s("5356"),s("2877")),h=Object(w["a"])(p,render,r,!1,null,"1571ae92",null);t["default"]=h.exports}}]);