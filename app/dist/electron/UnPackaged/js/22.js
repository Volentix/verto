(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{"3bd0":function(t,e,s){"use strict";var a=s("c0aa"),n=s.n(a);n.a},"869a":function(t,e,s){"use strict";s.r(e);var render=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"column convert-page",class:{"desktop-marg":t.screenSize>1024,"mobile-pad":t.screenSize<1024,"dark-theme":"true"===t.$store.state.settings.lightMode,"text-black bg-grey-12":"false"===t.$store.state.settings.lightMode}},[s("div",{class:{"dark-theme":"true"===t.$store.state.settings.lightMode}},[t.screenSize>1024?s("div",{staticClass:"desktop-version"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col col-md-3"},[s("div",{staticClass:"wallets-container"},[s("profile-header",{staticClass:"marg",attrs:{isMobile:!1,version:"type2222"}}),s("wallets",{attrs:{isMobile:!1,showWallets:!1,isWalletsPage:!1,isWalletDetail:!1}})],1)]),s("div",{staticClass:"col col-md-9"},[s("div",{staticClass:"desktop-card-style vtx-converter q-mb-sm",class:{"dark-theme":"true"===t.$store.state.settings.lightMode}},[s("VTXConverter")],1)])])]):s("div",[s("profile-header",{staticClass:"marg",attrs:{version:"type3",fetchCurrentWalletFromState:!0}}),s("VTXConverter")],1)])])},a=[],VTXConvertervue_type_template_id_55387f7c_scoped_true_render=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"dark-theme":"true"===t.$store.state.settings.lightMode}},[s("div",{staticClass:"vtx-converter-wrapper"},[s("div",{staticClass:"vtx-converter-wrapper--list open"},[s("div",{staticClass:"list-wrapper"},[s("div",{staticClass:"list-wrapper--chain__eos-to-vtx-convertor"},[s("h3",{staticClass:"list-wrapper--chain__eos-to-vtx-convertor--title",on:{click:function(e){t.step=1}}},[t._v("\n            EOS to VTX Convertor\n          ")]),t.step>0?s("div",{},[s("q-stepper",{attrs:{vertical:"",color:"primary",animated:"",flat:"",dark:"true"===t.$store.state.settings.lightMode,light:"false"===t.$store.state.settings.lightMode},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[s("q-step",{attrs:{title:"How many EOS",name:1,prefix:"1",done:t.step>1}},[s("div",{staticClass:"text-black"},[s("div",{staticClass:"row"},[s("div",{},[s("span",{staticClass:"--title row text-h6"},[t._v(" EOS (Liquid) ")]),s("span",{staticClass:"--amount row text-h4"},[t._v(" "+t._s(t.currentAccount.amount)+" ")])]),s("div",{staticClass:"col --progress"},[s("q-linear-progress",{staticClass:"q-mt-md",attrs:{indeterminate:"",rounded:"",reverse:"red"===t.progColor,color:t.progColor,size:"xl"}})],1),s("div",{staticClass:"col"},[s("span",{staticClass:"--title row text-h6"},[t._v("\n                        VTX (Liquid)\n                      ")]),s("span",{staticClass:"--amount row text-h4"},[t._v("\n                        "+t._s(t.vtxbalance)+"\n                      ")])])]),s("div",[s("br"),s("q-slider",{staticClass:"--slider",attrs:{"label-value":t.slider+"%",min:0,max:100,step:5,color:"orange","label-color":t.progColor,dark:"true"===t.$store.state.settings.lightMode,light:"false"===t.$store.state.settings.lightMode,markers:"",label:"","label-always":""},on:{input:function(e){return t.changeSlider()}},model:{value:t.slider,callback:function(e){t.slider=e},expression:"slider"}}),s("q-input",{staticClass:"--input",attrs:{type:"number",dark:"true"===t.$store.state.settings.lightMode,light:"false"===t.$store.state.settings.lightMode,rounded:"",outlined:"",color:"green",label:"Amount of EOS to convert to VTX"},on:{input:t.checkAmount,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goToPassword()}},model:{value:t.sendAmount,callback:function(e){t.sendAmount=e},expression:"sendAmount"}})],1)]),s("q-stepper-navigation",{directives:[{name:"show",rawName:"v-show",value:t.navigationButtons.amount,expression:"navigationButtons.amount"}],staticClass:"flex justify-end"},[s("q-btn",{staticClass:"--next-btn",attrs:{color:"deep-purple-14",rounded:"",label:"Next"},on:{click:function(e){t.step=2}}})],1)],1),t.isPrivateKeyEncrypted?s("q-step",{attrs:{title:"Sign & Submit",name:2,prefix:"2",done:t.step>2}},[s("q-btn",{staticClass:"--back-btn",attrs:{flat:"",unelevated:"",icon:"keyboard_arrow_up",color:"primary"},on:{click:function(e){t.step=1}}}),s("div",{staticClass:"text-black"},[s("div",{staticClass:"text-h4 --subtitle"},[t._v("Enter your password to sign the transaction.")]),s("q-input",{staticClass:"full-width",attrs:{light:"",rounded:"",outlined:"",color:"green",label:"Private Key Password",debounce:"500",type:t.isPwd?"password":"text",error:t.invalidPrivateKeyPassword,"error-message":"The private key password is invalid"},on:{input:function(e){return t.checkPrivateKeyPassword()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toSummary(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}],null,!1,3635466494),model:{value:t.privateKeyPassword,callback:function(e){t.privateKeyPassword=e},expression:"privateKeyPassword"}})],1),s("q-stepper-navigation",{staticClass:"flex justify-end"},[t.showSubmit?s("q-btn",{staticClass:"--next-btn",attrs:{color:"deep-purple-14",rounded:"",label:"Next"},on:{click:function(e){return t.login()}}}):t._e()],1)],1):s("q-step",{attrs:{title:"Confirm & Submit",name:2,prefix:"2",done:t.step>2}},[s("q-btn",{staticClass:"--back-btn",attrs:{flat:"",unelevated:"",icon:"keyboard_arrow_up",color:"primary"},on:{click:function(e){t.step=1}}}),s("div",{staticClass:"text-black"},[s("div",{staticClass:"text-h4 --subtitle"},[t._v("Are you sure?")])]),s("q-stepper-navigation",{staticClass:"flex justify-end"},[s("q-btn",{staticClass:"--next-btn",attrs:{color:"deep-purple-14",rounded:"",label:"Submit"},on:{click:function(e){return t.sendTransaction()}}})],1)],1),s("q-step",{attrs:{title:"Result",name:4,prefix:"3"}},[s("q-btn",{staticClass:"--back-btn",attrs:{flat:"",unelevated:"",icon:"keyboard_arrow_up",color:"primary"},on:{click:function(e){t.step=2}}}),s("div",{staticClass:"text-black"},[s("div",{directives:[{name:"show",rawName:"v-show",value:""===t.transactionError,expression:"transactionError === ''"}],staticClass:"text-h4 --subtitle --subtitle__summary"},[t._v("Processing the transaction")]),s("div",{directives:[{name:"show",rawName:"v-show",value:""===t.transactionError,expression:"transactionError === ''"}],staticClass:"text-black"},[s("q-spinner")],1),t.transactionError?s("div",{staticClass:"content__failed text-red q-pa-md"},[s("img",{staticClass:"failed_icon",attrs:{src:"statics/fail_icon.svg",alt:""}}),s("div",{staticClass:"text-h4 --subtitle text-center --subtitle__faild"},[t._v("Something's wrong!")]),s("div",{staticClass:"text-h4 --subtitle text-center --subtitle__transLink"},[t._v(" "+t._s(t.ErrorMessage))])]):s("div",{staticClass:"content__success"},[s("img",{staticClass:"success_icon",attrs:{src:"statics/success_icon.svg",alt:""}}),s("div",{staticClass:"text-h4 --subtitle text-center --subtitle__success"},[t._v("Successful completion")]),s("div",{staticClass:"text-h4 --subtitle text-center --subtitle__transLink",domProps:{innerHTML:t._s(t.SuccessMessage)}},[t._v(" "+t._s(t.SuccessMessage))])])])],1)],1)],1):t._e()])])])])])},n=[],r=(s("6762"),s("2fdb"),s("28a5"),s("6b54"),s("06db"),s("967e")),i=s.n(r),o=(s("7f7f"),s("7514"),s("96cf"),s("fa84")),c=s.n(o),l=s("04c6"),u=s("5cea"),d=new u["a"],p={name:"VTXConverter",data:function data(){return{step:1,active:!0,showWallet:!1,showText:!1,password:"",showSubmit:!1,passHasError:!1,slider:0,progColor:"green",vtxbalance:0,vtxprice:0,params:{},sendAmount:null,formatedAmount:null,isPrivateKeyEncrypted:!1,ErrorMessage:null,SuccessMessage:null,invalidPrivateKeyPassword:!1,privateKey:{success:null},transactionId:null,transactionError:"",spinnervisible:!1,isPwd:!0,account:null,privateKeyPassword:null,showSendModal:!1,navigationButtons:{to:!1,token:!1,amount:!1,privateKeyPasswordBtn:!1,showNextButtonToPassword:!1},tableData:[],currentAccount:{chain:"",token:"",type:""}}},computed:{showNext:function showNext(){return!(!this.voted&&!this.proxyModel)}},created:function created(){var t=this;return c()(i.a.mark((function _callee(){return i.a.wrap((function _callee$(e){while(1)switch(e.prev=e.next){case 0:return t.params=t.$store.state.currentwallet.params,e.next=3,t.$store.state.wallets.tokens;case 3:return t.tableData=e.sent,t.currentAccount=t.tableData.find((function(e){return e.chain===t.params.chainID&&e.type===t.params.tokenID&&("eos"===e.chain?e.name.toLowerCase()===t.params.accountName:e.key===t.params.accountName)})),d.isPrivKeyValid(t.currentAccount.privateKey)?(t.privateKey.key=t.currentAccount.privateKey,t.isPrivateKeyEncrypted=!1):t.isPrivateKeyEncrypted=!0,e.next=8,t.$axios.get(Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,MODE:"electron",ENV_TYPE:"Running Production",ENV_PROD:"Production",EXTENSION_ID:"eamiofncoknfkefhlkdblngblpffehek",EXTENSION_ID_MOZILA:"965aea9e75d37c6e1e2630b165ea4ae77412d115@temporary-addon",EXTENSION_URL:"https://chrome.google.com/webstore/detail/verto/eamiofncoknfkefhlkdblngblpffehek",EXTENSION_URL_MOZILA:"https://example.com",mainnet:{CACHE:"https://cache.volentix.io/",CHAIN_ID:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",EOS_HISTORYAPI:"https://eos.greymass.com",DEMUX_API:"https://demux.vlabs.ninja:4000",COINSWITCH_APIKEY:"B1jvw5Ytx9OmO2zC1H977dvFT4jmNdQ81OZQCH6d",EOS_TRANSACTION_EXPLORER:"https://bloks.io/transaction/",ETH_TRANSACTION_EXPLORER:"https://etherscan.io/tx/",READ_THE_DOCS:"https://vertohowto.readthedocs.io/en/latest/tutorial/"},testnet:{CACHE:"https://cache.volentix.io/",CHAIN_ID:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191",EOS_HISTORYAPI:"http://140.82.56.143:8888",DEMUX_API:"https://demux.vlabs.ninja:3000",COINSWITCH_APIKEY:"Y72jsy9iwD5uiazajayqp190dhjabn3kjauis",EOS_TRANSACTION_EXPLORER:"https://kylin.eosx.io/tx/",ETH_TRANSACTION_EXPLORER:"https://ropsten.etherscan.io/tx/",READ_THE_DOCS:"https://vertohowto.readthedocs.io/en/latest/tutorial/"},VUE_ROUTER_MODE:"hash",VUE_ROUTER_BASE:"",APP_URL:"file://"+__dirname+"/index.html"})[t.$store.state.settings.network].CACHE+"https://api.newdex.io/v1/price?symbol=volentixgsys-vtx-eos").data.data.price;case 8:t.vtxprice=e.sent;case 9:case"end":return e.stop()}}),_callee)})))()},mounted:function mounted(){return c()(i.a.mark((function _callee2(){return i.a.wrap((function _callee2$(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),_callee2)})))()},methods:{toSummary:function toSummary(){this.invalidPrivateKeyPassword||(this.step=4)},checkPrivateKeyPassword:function checkPrivateKeyPassword(){var t=JSON.stringify(this.currentAccount.privateKeyEncrypted);if(this.privateKey=this.$configManager.decryptPrivateKey(this.privateKeyPassword,t),!this.privateKey.success)return this.invalidPrivateKeyPassword=!0,!1;this.invalidPrivateKeyPassword=!1},checkPassword:function checkPassword(){this.password.length>2?this.showSubmit=!0:this.showSubmit=!1},login:function login(){var t=this;return c()(i.a.mark((function _callee3(){var e;return i.a.wrap((function _callee3$(s){while(1)switch(s.prev=s.next){case 0:if(t.passHasError=!1,t.password){s.next=4;break}return t.passHasError=!0,s.abrupt("return");case 4:return s.next=6,l["a"].login(t.password);case 6:e=s.sent,e.success?(t.step=4,t.upgradeAccountName(),t.sendTransaction()):"no_default_key"===e.message||(t.passHasError=!0);case 8:case"end":return s.stop()}}),_callee3)})))()},changeSlider:function changeSlider(){this.sendAmount=Math.round(1e4*this.currentAccount.amount*(this.slider/100))/1e4,this.checkAmount()},checkAmount:function checkAmount(){this.navigationButtons.amount=!1,this.vtxbalance=Math.round(this.sendAmount/this.vtxprice*1e8)/1e8,this.sendAmount>0&&this.sendAmount<=this.currentAccount.amount&&(this.navigationButtons.amount=!0)},formatAmountString:function formatAmountString(){var t=0,e=this.sendAmount.toString(),s=e.split(".");for(s&&s.length>1?t=s[1].length:e+=".";t<4;t++)e+="0";return e+" EOS"},sendTransaction:function sendTransaction(){var t=this;return c()(i.a.mark((function _callee4(){var e;return i.a.wrap((function _callee4$(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.step=4,t.formatedAmount=t.formatAmountString(),s.next=5,d.transferToken("eosio.token",t.currentAccount.name,"newdexpublic",t.formatedAmount,'{"type":"buy-market","symbol":"volentixgsys-vtx-eos","price":"0.00000","channel":"dapp","ref":"verto"}',t.privateKey.key);case 5:e=s.sent,t.transactionError=!1,t.transactionId=e.transaction_id,t.SuccessMessage='Congratulations, your transactions have been recorded on the blockchain. You can check it on this <a href="https://bloks.io/transaction/'+t.transactionId+'">block explorer</a>',s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](0),s.t0.includes("maximum billable CPU time")?(t.transactionError=!0,t.ErrorMessage="Your EOS account does not have enough CPU staked to process the transaction."):s.t0.includes("Sorry, Newdex trade is pause")&&(t.transactionError=!0,t.ErrorMessage="Convertion is suspended at the moment, it`s not your fault.  Try again later");case 14:case"end":return s.stop()}}),_callee4,null,[[0,11]])})))()}}},v=p,h=(s("3bd0"),s("2877")),m=Object(h["a"])(v,VTXConvertervue_type_template_id_55387f7c_scoped_true_render,n,!1,null,"55387f7c",null),f=m.exports,b=s("23bd"),w=s("e298"),g={components:{VTXConverter:f,ProfileHeader:b["a"],Wallets:w["a"]},data:function data(){return{}},created:function created(){var t=document.querySelector(".exchange-notif");null!==t&&t.querySelector(".q-btn").dispatchEvent(new Event("click")),this.getWindowWidth(),window.addEventListener("resize",this.getWindowWidth)},mounted:function mounted(){},methods:{getWindowWidth:function getWindowWidth(){this.screenSize=document.querySelector("#q-app").offsetWidth}},beforeDestroy:function beforeDestroy(){window.removeEventListener("resize",this.getWindowWidth)}},_=g,y=(s("a06f9"),Object(h["a"])(_,render,a,!1,null,"d7bdf262",null));e["default"]=y.exports},a06f9:function(t,e,s){"use strict";var a=s("a409"),n=s.n(a);n.a},a409:function(t,e,s){},c0aa:function(t,e,s){}}]);