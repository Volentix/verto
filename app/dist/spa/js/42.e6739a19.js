(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{"0942":function(e,t,s){},"7cb7":function(e,t,s){"use strict";var r=s("0942"),o=s.n(r);o.a},c907:function(e,t,s){"use strict";s.r(t);var render=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{staticClass:"column restore-wallet dark-theme"},[r("div",{staticClass:"row app-logo-row"},[r("div",{staticClass:"col col-md-12 app-logo flex q-pl-lg q-ml-sm q-mt-lg items-center justify-start"},[r("img",{staticClass:"q-mr-sm",attrs:{src:"statics/icons/vtx-logo-1024x1024.png",width:"40",alt:"logo"}}),r("router-link",{attrs:{to:"/verto/dashboard"}},[e._v("VERTO")])],1)]),r("video-bg",{attrs:{sources:[s("f214")],img:""}},[r("div",{staticClass:"video-page-wrapper q-pt-md q-pb-md"},[r("div",{staticClass:"chain-tools-wrapper"},[r("div",{staticClass:"standard-content"},[r("h2",{staticClass:"standard-content--title flex justify-center"},[r("q-btn",{staticClass:"btn-align-left",attrs:{flat:"",unelevated:"","text-color":"white",icon:"keyboard_backspace"},on:{click:function(t){"profile"===e.returnto?e.$router.push("/verto/profile"):e.$router.go(-1)}}}),r("span",{staticClass:"text-white"},[e._v(e._s(e.$t("SettingsView.restore_config")))])],1),e._e()]),r("div",{staticClass:"chain-tools-wrapper--list open"},[r("div",{staticClass:"list-wrapper"},[r("div",{staticClass:"list-wrapper--chain__eos-to-vtx-convertor"},[r("q-stepper",{ref:"stepper",attrs:{dark:"","done-color":"green","alternative-labels":"",vertical:"",color:"primary",animated:"",flat:""},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[r("q-step",{attrs:{title:"Select Config File",name:1,prefix:"1",done:e.step>1}},[r("div",{staticClass:"flex full-width file-select-wrapper flex-center q-pa-sm"},[r("FileSelect",{on:{input:e.checks,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.showThePasswordScreen(t)}},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),r("q-icon",{staticClass:"icon-upload",attrs:{name:"cloud_upload"}})],1),r("q-stepper-navigation",{directives:[{name:"show",rawName:"v-show",value:e.showNextButtonToPassword,expression:"showNextButtonToPassword"}],staticClass:"flex justify-end"},[r("q-btn",{staticClass:"--next-btn next",attrs:{flat:"","text-color":"white",color:"transparent",rounded:"",label:"Next"},on:{click:e.showThePasswordScreen}})],1)],1),r("q-step",{attrs:{title:"Verto Password",name:2,prefix:"1",done:e.step>2}},[r("q-btn",{staticClass:"--back-btn",attrs:{flat:"",unelevated:"",icon:"keyboard_arrow_up",color:"primary"},on:{click:function(t){return e.$refs.stepper.previous()}}}),r("q-card-section",{staticClass:"text-white text-center"},[r("div",[r("q-input",{attrs:{dark:"",type:e.isPwd?"password":"text",rounded:"",outlined:"",color:"purple",label:"Config Verto password",hint:"*Minimum of 8 characters"},on:{input:e.showSubmitKey,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.restoreConfig(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.addWallet.vertoPassword,callback:function(t){e.$set(e.addWallet,"vertoPassword",t)},expression:"addWallet.vertoPassword"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.incorrectPassword,expression:"incorrectPassword"}],staticClass:"text-h6 text-uppercase text-red q-pa-lg"},[e._v("\n                      "+e._s(e.$t("Welcome.incorrect"))+"\n                    ")]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.fileEmpty,expression:"fileEmpty"}],staticClass:"text-h6 text-uppercase text-red q-pa-lg"},[e._v("\n                      You have to select a config file\n                    ")]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.unknownError,expression:"unknownError"}],staticClass:"text-h6 text-uppercase text-red q-pa-lg"},[e._v("\n                      Unknown Error\n                    ")]),r("q-stepper-navigation",{directives:[{name:"show",rawName:"v-show",value:e.submitKey,expression:"submitKey"}],staticClass:"flex justify-end"},[r("q-btn",{staticClass:"--next-btn next",attrs:{flat:"",color:"white",rounded:"",label:"Next"},on:{click:e.restoreConfig}})],1)],1)],1)],1)],1),r("br"),r("br"),r("br")])])])])])],1)},r=[],o=s("967e"),a=s.n(o),i=(s("96cf"),s("fa84")),n=s.n(i),l=s("914b"),c=s("04c6"),d=s("8778"),p=s("2b0e"),u=s("f7ec");p["default"].component("video-bg",u["a"]);var w={name:"RestoreConfig",components:{FileSelect:l["a"]},data:function data(){return{step:1,isPwd:!0,spinnervisible:!1,contractable:!0,submitKey:!1,fileEmpty:!1,unknownError:!1,incorrectPassword:!1,showNextButtonToPassword:!1,file:null,returnto:"",addWallet:{walletName:"",address:"",addressPriv:"",vertoPassword:"",vertoPasswordError:""}}},created:function created(){this.returnto=this.$route.params.returnto},methods:{goback:function goback(){"settings"===this.returnto?this.$router.push("/settings"):"profile"===this.returnto?this.$router.push("/verto/profile"):this.$router.push(this.returnto)},showThePasswordScreen:function showThePasswordScreen(){this.showNextButtonToPassword&&this.$refs.stepper.next()},showSubmitKey:function showSubmitKey(){this.resetErrors(),this.addWallet.vertoPassword.length>2?this.submitKey=!0:this.submitKey=!1},resetErrors:function resetErrors(){this.incorrectPassword=!1,this.fileEmpty=!1,this.unknownError=!1},checks:function checks(){this.file?(this.fileEmpty=!1,this.showNextButtonToPassword=!0):(this.fileEmpty=!0,this.showNextButtonToPassword=!1)},restoreConfig:function restoreConfig(){var e=this;return n()(a.a.mark((function _callee2(){var t,s;return a.a.wrap((function _callee2$(r){while(1)switch(r.prev=r.next){case 0:t=e,s=new FileReader,s.onload=n()(a.a.mark((function _callee(){var e;return a.a.wrap((function _callee$(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.spinnervisible=!0,r.next=4,c["a"].restoreConfig(s.result,t.addWallet.vertoPassword);case 4:if(e=r.sent,"bad_password"!==e.message){r.next=9;break}throw t.spinnervisible=!1,new Error("Incorrect Password");case 9:t.$store.commit("settings/temporary",t.addWallet.vertoPassword),t.applicationRefreshing=!0,t.$q.notify({color:"positive",message:"Application refreshing"}),setTimeout((function(){t.$router.push({path:"/verto/dashboard"}),t.spinnervisible=!1}),300),r.next=20;break;case 15:r.prev=15,r.t0=r["catch"](0),t.spinnervisible=!1,Object(d["b"])(r.t0);case 20:case"end":return r.stop()}}),_callee,null,[[0,15]])}))),s.readAsText(e.file);case 4:case"end":return r.stop()}}),_callee2)})))()}}},f=w,h=(s("7cb7"),s("2877")),v=Object(h["a"])(f,render,r,!1,null,"28e302b0",null);t["default"]=v.exports}}]);