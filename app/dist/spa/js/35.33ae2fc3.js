(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[35],{1166:function(t,e,s){},"87f9":function(t,e,s){"use strict";s.r(e);var render=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{class:{"desktop-marg":t.screenSize>1024,"mobile-pad":t.screenSize<1024,"text-black bg-white":"false"===t.$store.state.settings.lightMode,"mobile-card text-white":"true"===t.$store.state.settings.lightMode}},[t.$q.platform.is.mobile?s("q-header",[s("q-toolbar",{class:"true"===t.$store.state.settings.lightMode?"text-white mobile-card":"bg-white text-black"},[s("q-btn",{staticClass:"q-mr-sm",attrs:{flat:"",round:"",dense:"",icon:"arrow_back_ios"},on:{click:function(e){return t.goBack()}}}),s("q-toolbar-title",{staticStyle:{"margin-left":"-25px"}},[t._v(" Transaction builder  ")])],1)],1):t._e(),s("div",{class:{"dark-theme mobile-card":"true"===t.$store.state.settings.lightMode},staticStyle:{height:"100vh"}},[t.screenSize>1024||t.$q.platform.is.mobile?s("div",{class:t.$q.platform.is.mobile?"full-height":"esktop-version full-height"},[s("div",{staticClass:"row full-height"},[t._e(),s("div",{staticClass:"col col-md-12"},[s("div",{staticClass:"desktop-card-style------ apps-section history-card",class:{"dark-theme":"true"===t.$store.state.settings.lightMode},staticStyle:{height:"100%"}},[t._e(),s("div",{staticClass:"row q-mr-sm"},[t.$q.platform.is.mobile?t._e():s("h2",{staticClass:"standard-content--title col-md-4 float-left flex justify-start q-pl-md q-pt-lg"},[t._v("\n                Transaction builder\n              ")]),s("div",{staticClass:"col flex justify-end q-pr-md",style:t.$q.platform.is.mobile?"padding: 10px;":""},[s("AccountSelector",{attrs:{showAllWallets:!0}})],1)]),s("div",{staticClass:"standard-content--body q-pa-md",class:{"mobile-card":"true"===t.$store.state.settings.lightMode},staticStyle:{height:"100%"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},t._l(t.actions,(function(e,a){return s("div",{key:a,class:"text-"+t.colors[a]+" q-pa-md action q-mb-md"},[s("div",{staticClass:"text-body1"},[t._v("\n                      Action "+t._s(a+1)+"\n                      "),s("q-btn",{staticClass:"q-mb-sm q-ml-md",attrs:{flat:"false"===t.$store.state.settings.lightMode,dark:"true"===t.$store.state.settings.lightMode,outline:"true"===t.$store.state.settings.lightMode,label:"Add new action",color:"true"===t.$store.state.settings.lightMode?"white":"primary","no-caps":""},on:{click:function(e){return t.actions.push(t.actionTemplate)}}})],1),s("div",{staticClass:"row q-col-gutter-md"},[s("div",{staticClass:"col-md-12 row q-col-gutter-md"},[s("q-input",{staticClass:"col-6",attrs:{filled:"",dark:"true"===t.$store.state.settings.lightMode,label:"Contract"},model:{value:t.actions[a].account,callback:function(e){t.$set(t.actions[a],"account",e)},expression:"actions[index].account"}}),s("q-input",{staticClass:"col-6",attrs:{filled:"",dark:"true"===t.$store.state.settings.lightMode,label:"Name"},model:{value:t.actions[a].name,callback:function(e){t.$set(t.actions[a],"name",e)},expression:"actions[index].name"}})],1),s("div",{staticClass:"col-md-12 text-body2"},[t._v("\n                        Data\n\n                      ")]),t._l(t.actions[a].dataCount,(function(e){return s("div",{key:e,staticClass:"col-md-12 row q-col-gutter-md"},[s("q-input",{staticClass:"col-6",attrs:{filled:"",dark:"true"===t.$store.state.settings.lightMode,label:"Property "+e},model:{value:t.actions[a].dataKeys[e-1],callback:function(s){t.$set(t.actions[a].dataKeys,e-1,s)},expression:"actions[index].dataKeys[i-1]"}}),s("q-input",{staticClass:"col-6",attrs:{filled:"",dark:"true"===t.$store.state.settings.lightMode,label:"Value"},model:{value:t.actions[a].dataValues[e-1],callback:function(s){t.$set(t.actions[a].dataValues,e-1,s)},expression:"actions[index].dataValues[i-1]"}})],1)}))],2),s("div",{staticClass:"text-body1"},[s("q-btn",{staticClass:"q-mb-sm q-mt-sm",attrs:{flat:"false"===t.$store.state.settings.lightMode,dark:"true"===t.$store.state.settings.lightMode,outline:"true"===t.$store.state.settings.lightMode,label:"Add new property",color:"true"===t.$store.state.settings.lightMode?"white":"primary","no-caps":""},on:{click:function(e){t.actions[a].dataCount++}}})],1),s("q-input",{staticClass:"col-md-12",attrs:{filled:"",dark:"true"===t.$store.state.settings.lightMode,label:"Memo"},model:{value:t.actions[a].memo,callback:function(e){t.$set(t.actions[a],"memo",e)},expression:"actions[index].memo"}})],1)})),0),s("div",{staticClass:"col-md-6  q-pa-md"},[t.decryptPrivateKey||t.transactionLink?t._e():s("p",{staticClass:"text-h6 text-bold"},[t._v("Click button below to process")]),s("p",{staticClass:"text-red text-body2"},[t._v(t._s(t.ErrorMessage))]),s("p",{staticClass:"text-green text-body2"},[t._v(t._s(t.SuccessMessage))]),t.decryptPrivateKey?s("div",[s("q-card-section",[s("div",{staticClass:"text-uppercase"},[s("q-item-section",[s("q-item-label",[t._v("Enter your private key password to sign the transaction")])],1),s("div",[s("q-input",{attrs:{dark:"true"===t.$store.state.settings.lightMode,color:"deep-purple-14",label:"Private Key Password",debounce:"500",error:t.invalidPrivateKeyPassword,"error-message":"The password is incorrect",type:t.isPwd?"password":"text"},on:{input:t.checkPrivateKeyPassword},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}],null,!1,3635466494),model:{value:t.privateKeyPassword,callback:function(e){t.privateKeyPassword=e},expression:"privateKeyPassword"}})],1),s("q-btn",{attrs:{disable:!t.privateKey.success,loading:t.spinnervisible,label:"Submit",outline:""},on:{click:t.process}})],1)])],1):t._e(),t.decryptPrivateKey||t.transactionLink?t._e():s("q-btn",{attrs:{label:"Process",loading:t.spinnervisible,outline:""},on:{click:function(e){return t.process()}}}),t.transactionLink?s("q-input",{staticClass:"input-input",attrs:{dark:"true"===t.$store.state.settings.lightMode,light:"false"===t.$store.state.settings.lightMode,readonly:"",rounded:"",outlined:"",color:"purple"},scopedSlots:t._u([{key:"append",fn:function(){return[s("div",{staticClass:"flex justify-end"},[s("q-btn",{staticClass:"btn-copy",attrs:{flat:"",unelevated:"","text-color":"grey",round:"",icon:"o_file_copy"},on:{click:function(e){return t.copyToClipboard(t.transactionLink,"Transaction link")}}})],1)]},proxy:!0}],null,!1,205340452),model:{value:t.transactionLink,callback:function(e){t.transactionLink=e},expression:"transactionLink"}}):t._e(),t.transactionLink?s("a",{staticClass:"text-body2 text-black",attrs:{href:t.transactionLink,target:"_blank"}},[t._v(" More info")]):t._e(),s("div",{staticClass:"preFormatted q-pt-md"},[t._v(t._s(t.transaction))])],1)])])],1)])])]):t._e()])],1)},a=[],i=(s("7f7f"),s("967e")),n=s.n(i),o=(s("6762"),s("2fdb"),s("96cf"),s("6b54"),s("06db"),s("fa84")),r=s.n(o),c=s("e298"),l=s("23bd"),d=s("04c6"),u=s("bc9c"),p=s("5cea"),h=s("9224"),f=s("494c"),m=new p["a"],g=s("9bf1");g.default&&(g=g.default);var v={components:{ProfileHeader:l["a"],Wallets:c["a"],AccountSelector:u["a"]},data:function data(){return{colors:["cyan","teal","light-blue","blue-1","pink","purple"],transaction:[],privateKeyPassword:"",SuccessMessage:"",transactionLink:null,invalidPrivateKeyPassword:!1,isPwd:!0,privateKey:{},spinnervisible:!1,actionTemplate:{account:"",name:"",dataKeys:[],memo:"",dataValues:[],dataCount:1},actions:[{account:"",name:"",dataKeys:[],memo:"",dataValues:[],dataCount:1}],pword:"",screenSize:1024,minimizedModal:!1,message:"",ErrorMessage:"",version:{},decryptPrivateKey:!1,network:this.$store.state.settings.network,configPath:"",transStatus:null}},mounted:function mounted(){this.version=h["a"],this.setupPlatformPath(),this.getWindowWidth(),window.addEventListener("resize",this.getWindowWidth),this.privateKey.key=this.$store.state.currentwallet.wallet.privateKey},watch:{actions:{handler:function handler(){this.setTransaction()},deep:!0}},methods:{copyToClipboard:function copyToClipboard(t,e){this.$clipboardWrite(t),this.$q.notify({message:e?e+" Copied":"Key Copied",timeout:2e3,icon:"check",textColor:"white",type:"warning",position:"top"})},checkPrivateKeyPassword:function checkPrivateKeyPassword(){var t=JSON.stringify(this.$store.state.currentwallet.wallet.privateKeyEncrypted);if(this.privateKey=this.$configManager.decryptPrivateKey(this.privateKeyPassword,t),!this.privateKey.success)return this.invalidPrivateKeyPassword=!0,!1;this.invalidPrivateKeyPassword=!1},process:function(t){function process(){return t.apply(this,arguments)}return process.toString=function(){return t.toString()},process}((function(){var t=this;return r()(n.a.mark((function _callee(){var e,s,a;return n.a.wrap((function _callee$(i){while(1)switch(i.prev=i.next){case 0:if(t.ErrorMessage=null,t.transStatus=null,!t.$store.state.currentwallet.wallet.privateKeyEncrypted||t.privateKey.success){i.next=5;break}return t.decryptPrivateKey=!0,i.abrupt("return");case 5:return e={actions:t.transaction},i.prev=6,t.spinnervisible=!0,i.next=10,m.transact(e,{keyProvider:t.privateKey.key});case 10:s=i.sent,t.transactionLink=Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,MODE:"spa",ENV_TYPE:"Running Production",ENV_PROD:"Production",EXTENSION_ID:"eamiofncoknfkefhlkdblngblpffehek",EXTENSION_ID_MOZILA:"965aea9e75d37c6e1e2630b165ea4ae77412d115@temporary-addon",EXTENSION_URL:"https://chrome.google.com/webstore/detail/verto/eamiofncoknfkefhlkdblngblpffehek",EXTENSION_URL_MOZILA:"https://example.com",mainnet:{CACHE:"https://cache.volentix.io/",CHAIN_ID:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",EOS_HISTORYAPI:"https://eos.greymass.com",DEMUX_API:"https://demux.vlabs.ninja:4000",COINSWITCH_APIKEY:"B1jvw5Ytx9OmO2zC1H977dvFT4jmNdQ81OZQCH6d",EOS_TRANSACTION_EXPLORER:"https://bloks.io/transaction/",ETH_TRANSACTION_EXPLORER:"https://etherscan.io/tx/",READ_THE_DOCS:"https://vertohowto.readthedocs.io/en/latest/tutorial/"},testnet:{CACHE:"https://cache.volentix.io/",CHAIN_ID:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191",EOS_HISTORYAPI:"http://140.82.56.143:8888",DEMUX_API:"https://demux.vlabs.ninja:3000",COINSWITCH_APIKEY:"Y72jsy9iwD5uiazajayqp190dhjabn3kjauis",EOS_TRANSACTION_EXPLORER:"https://kylin.eosx.io/tx/",ETH_TRANSACTION_EXPLORER:"https://ropsten.etherscan.io/tx/",READ_THE_DOCS:"https://vertohowto.readthedocs.io/en/latest/tutorial/"},VUE_ROUTER_MODE:"history",VUE_ROUTER_BASE:"/",APP_URL:"undefined"})[t.$store.state.settings.network].EOS_TRANSACTION_EXPLORER+s.transaction_id,t.spinnervisible=!1,t.transStatus="Sent Successfully",t.SuccessMessage="Congratulations, your transactions have been recorded on the blockchain.",i.next=22;break;case 17:i.prev=17,i.t0=i["catch"](6),t.spinnervisible=!1,t.ErrorMessage=i.t0.message,i.t0.toString().includes("is greater than the maximum billable CPU time for the transaction")&&(t.freeCPU=!0,t.spinnervisible=!0,a=t.$store.state.currentwallet.wallet,a.privateKey=t.privateKey.key,t.sendFreeCPUTransaction(e.actions,a).then((function(e){e.success?(t.transactionLink=e.message,t.transStatus=e.status?e.status:"Sent Successfully"):t.ErrorMessage=e.message,t.spinnervisible=!1})).catch((function(e){t.ErrorMessage=e.message})));case 22:case"end":return i.stop()}}),_callee,null,[[6,17]])})))()})),setTransaction:function setTransaction(){var t=this;this.transaction=[],this.transactionLink=null,this.ErrorMessage=null,this.actions.forEach((function(e){var s={};e.dataKeys.forEach((function(t,a){t&&t.length&&(s[t]=isNaN(e.dataValues[a])?e.dataValues[a]:parseInt(e.dataValues[a]))})),e.memo&&e.memo.trim().length&&(s["memo"]=e.memo);var a={account:e.account,name:e.name,authorization:[{actor:t.$store.state.investment.defaultAccount.name,permission:"active"}],data:s};t.transaction.push(a)}))},getWindowWidth:function getWindowWidth(){this.screenSize=document.querySelector("#q-app").offsetWidth},setupPlatformPath:function setupPlatformPath(){var t=this;return r()(n.a.mark((function _callee2(){return n.a.wrap((function _callee2$(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.filePath();case 2:t.configPath=e.sent;case 3:case"end":return e.stop()}}),_callee2)})))()},goChangePassword:function goChangePassword(){this.$router.push({path:"/change-password"})},setNetwork:function setNetwork(){this.$store.dispatch("settings/toggleNetwork",this.network),this.$q.notify({message:"Network changed to ".concat(this.network),color:"positive"})},backupConfig:function backupConfig(){var t=this;return r()(n.a.mark((function _callee3(){return n.a.wrap((function _callee3$(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].backupConfig();case 3:t.$q.platform.is.android&&t.$q.notify({color:"positive",message:"Config Saved"}),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),_callee3,null,[[0,6]])})))()},goBack:function goBack(){this.$router.push({name:"wallets",params:{openDialog:!0}})}},mixins:[f["a"]]},b=v,y=(s("f439"),s("2877")),k=Object(y["a"])(b,render,a,!1,null,"db0c27a6",null);e["default"]=k.exports},f439:function(t,e,s){"use strict";var a=s("1166"),i=s.n(a);i.a}}]);