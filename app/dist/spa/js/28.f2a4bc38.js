(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{2451:function(e,t,a){},42:function(e,t){},"7c1c":function(e,t,a){"use strict";var s=a("2451"),r=a.n(s);r.a},8591:function(e,t,a){"use strict";a.r(t);var s,render=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"text-black bg-white"},[0===e.step?a("div",{staticClass:"standard-content",staticStyle:{"padding-bottom":"0px"}},[a("div",{staticClass:"standard-content--body"},[a("h2",{staticClass:"standard-content--title"},[e._v("Checking linked CRUX ID...")]),a("div",{staticClass:"standard-content--body__form"},[a("div",{staticClass:"send-modal__content--body column flex-center"},[a("q-circular-progress",{staticClass:"q-ma-md",attrs:{size:"170px",thickness:.05,color:"cyan-5","track-color":"grey-3","show-value":"",indeterminate:"","font-size":"20px"}}),a("svg",{staticClass:"svg_logo",attrs:{fill:"#7272FA",width:"40",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20.58"}},[a("path",{attrs:{d:"M199,25.24q0,3.29,0,6.57a.5.5,0,0,1-.18.41l-7.32,6.45a.57.57,0,0,1-.71,0l-7.21-6.1c-.12-.11-.25-.22-.38-.32a.53.53,0,0,1-.22-.47q0-3.83,0-7.66,0-2.69,0-5.39c0-.33.08-.47.29-.51s.33.07.44.37l3.45,8.84c.52,1.33,1,2.65,1.56,4a.21.21,0,0,0,.23.16h4.26a.19.19,0,0,0,.21-.14l3.64-9.7,1.21-3.22c.08-.22.24-.32.42-.29a.34.34,0,0,1,.27.37c0,.41,0,.81,0,1.22Q199,22.53,199,25.24Zm-8.75,12s0,0,0,0,0,0,0,0a.28.28,0,0,0,0-.05l-1.88-4.83c0-.11-.11-.11-.2-.11h-3.69s-.1,0-.13,0l.11.09,4.48,3.8C189.38,36.55,189.8,36.93,190.25,37.27Zm-6.51-16.76h0s0,.07,0,.1q0,5.4,0,10.79c0,.11,0,.16.15.16h4.06c.15,0,.15,0,.1-.16s-.17-.44-.26-.66l-3.1-7.94Zm14.57.06c-.06,0-.06.07-.07.1l-1.89,5q-1.06,2.83-2.13,5.66c-.06.16,0,.19.13.19h3.77c.16,0,.2,0,.2-.2q0-5.3,0-10.59Zm-7.16,17,.05-.11,1.89-5c.05-.13,0-.15-.11-.15h-3.71c-.17,0-.16,0-.11.18.26.65.51,1.31.77,2Zm.87-.3,0,0,5.65-5H194c-.13,0-.16.07-.19.17l-1.59,4.23Zm0,.06h0Z",transform:"translate(-183 -18.21)"}})])],1),a("div",{staticClass:"send-modal__content--footer"},[a("div",{staticClass:"text-h4 --status"},[e._v("Please wait...")])])])]),a("div",{staticClass:"standard-content--footer"},[a("p",{staticClass:"crux-label"},[e._v("Powered by cruxpay.")])])]):e._e(),1===e.step?a("div",{staticClass:"standard-content",staticStyle:{"padding-bottom":"0px"}},[a("div",{staticClass:"standard-content--body column"},[a("h2",{staticClass:"standard-content--title"},[e._v("Create the Verto ID")]),a("div",{staticClass:"standard-content--body__form"},[a("div",{staticClass:"standard-content--body__img column flex-center"},[a("img",{attrs:{src:"statics/crux_id_bg.svg",alt:""}})]),a("label",{staticClass:"label"},[e._v("choose an ID")]),a("q-input",{ref:"cruxID",staticClass:"text-lowercase",attrs:{rounded:"",outlined:"",color:"deep-purple-14",type:"text",loading:!e.cruxKey||e.loading,suffix:"@"+e.walletClientName+".crux",error:e.error,"error-message":e.errorMessage,autofocus:""},on:{input:function(t){return e.getAvailable()}},model:{value:e.cruxID,callback:function(t){e.cruxID=t},expression:"cruxID"}}),a("div",{staticClass:"flex-end flex justify-end"},[a("q-btn",{staticClass:"action-link next",attrs:{color:"deep-purple-14","text-color":"white",label:"Register",disable:!e.available},on:{click:function(t){return e.register()}}})],1)],1)]),a("div",{staticClass:"standard-content--footer"},[a("p",{staticClass:"crux-label"},[e._v("Powered by cruxpay.")])])]):e._e(),2===e.step?a("div",{staticClass:"standard-content",staticStyle:{"padding-bottom":"0px"}},[a("div",{staticClass:"standard-content--body"},[a("h2",{staticClass:"standard-content--title"},[e._v(" Registering your wallet addresses in your ID")]),a("div",{staticClass:"standard-content--body__form"},[a("div",{staticClass:"send-modal__content--body column flex-center"},[a("q-circular-progress",{staticClass:"q-ma-md",attrs:{value:e.progress,size:"170px",thickness:.05,color:"cyan-5","track-color":"grey-3","show-value":"","font-size":"20px"}}),a("svg",{staticClass:"svg_logo",attrs:{fill:"#7272FA",width:"40",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20.58"}},[a("path",{attrs:{d:"M199,25.24q0,3.29,0,6.57a.5.5,0,0,1-.18.41l-7.32,6.45a.57.57,0,0,1-.71,0l-7.21-6.1c-.12-.11-.25-.22-.38-.32a.53.53,0,0,1-.22-.47q0-3.83,0-7.66,0-2.69,0-5.39c0-.33.08-.47.29-.51s.33.07.44.37l3.45,8.84c.52,1.33,1,2.65,1.56,4a.21.21,0,0,0,.23.16h4.26a.19.19,0,0,0,.21-.14l3.64-9.7,1.21-3.22c.08-.22.24-.32.42-.29a.34.34,0,0,1,.27.37c0,.41,0,.81,0,1.22Q199,22.53,199,25.24Zm-8.75,12s0,0,0,0,0,0,0,0a.28.28,0,0,0,0-.05l-1.88-4.83c0-.11-.11-.11-.2-.11h-3.69s-.1,0-.13,0l.11.09,4.48,3.8C189.38,36.55,189.8,36.93,190.25,37.27Zm-6.51-16.76h0s0,.07,0,.1q0,5.4,0,10.79c0,.11,0,.16.15.16h4.06c.15,0,.15,0,.1-.16s-.17-.44-.26-.66l-3.1-7.94Zm14.57.06c-.06,0-.06.07-.07.1l-1.89,5q-1.06,2.83-2.13,5.66c-.06.16,0,.19.13.19h3.77c.16,0,.2,0,.2-.2q0-5.3,0-10.59Zm-7.16,17,.05-.11,1.89-5c.05-.13,0-.15-.11-.15h-3.71c-.17,0-.16,0-.11.18.26.65.51,1.31.77,2Zm.87-.3,0,0,5.65-5H194c-.13,0-.16.07-.19.17l-1.59,4.23Zm0,.06h0Z",transform:"translate(-183 -18.21)"}})]),a("div",{staticClass:"--label text-cyan-5 text-h6"},[e._v(e._s(e.progress)+" %")])],1),a("div",{staticClass:"send-modal__content--footer"},[a("div",{staticClass:"text-h4 --status"},[e._v(e._s(e.status))])]),a("div",{staticClass:"flex-end flex justify-end"},[a("q-btn",{staticClass:"action-link next",attrs:{color:"deep-purple-14","text-color":"white",label:"Next",disable:!e.mapped},on:{click:function(t){e.step=3}}})],1)])]),a("div",{staticClass:"standard-content--footer"},[a("p",{staticClass:"crux-label"},[e._v("Powered by cruxpay.")])])]):e._e(),3===e.step?a("div",{staticClass:"standard-content",staticStyle:{"padding-bottom":"0px"}},[a("div",{staticClass:"standard-content--body"},[a("h2",{staticClass:"standard-content--title"},[e._v("You're all set.\n                "),a("span",{staticClass:"cruxid full-width flex justify-between items-center"},[a("q-input",{staticClass:"cruxid-input",attrs:{flat:"",readonly:"",color:"deep-purple-14"},model:{value:e.existingCruxID,callback:function(t){e.existingCruxID=t},expression:"existingCruxID"}}),a("q-btn",{staticClass:"btn-copy",attrs:{flat:"",unelevated:"","text-color":"grey",round:"",icon:"o_file_copy"},on:{click:function(t){return e.copyToClipboard(e.existingCruxID,"VERTO ID")}}})],1),e._v("\n                Enjoy using verto\n            ")]),a("br"),a("p",{staticClass:"diclaimer"},[a("strong",[e._v("Disclaimer")]),e._v("\n                Your 24 words are very important! "),a("br"),e._v("\n                Keep them stored somewhere safe. "),a("br"),e._v("\n                The position of each word is critical and should be stored in the correct sequence order."),a("br"),e._v("\n                Anyone with access to these 24 words will be able to recover this Verto app and the private keys it is associated with,\n                so keep in a safe place that only you have access to.\n            ")]),a("div",{staticClass:"standard-content--body__form"},[a("div",{staticClass:"flex-end flex justify-end"},[a("q-btn",{staticClass:"action-link next",attrs:{color:"deep-purple-14","text-color":"white",label:"Next"},on:{click:function(t){return e.dataRefresh()}}})],1)])]),a("div",{staticClass:"standard-content--body__form"},[a("div",{staticClass:"standard-content--footer"},[a("p",{staticClass:"crux-label"},[e._v("Powered by cruxpay.")])])])]):e._e()])},r=[],n=(a("7514"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("967e")),c=a.n(n),l=(a("96cf"),a("fa84")),i=a.n(l),o=a("7180"),d=a("8fee"),u=a("0a51"),p={data:function data(){return{step:1,cruxKey:null,existingCruxID:null,error:!1,errorMessage:"",walletClientName:"verto",vertoPassword:this.$store.state.settings.temporary,config:this.$store.state.currentwallet.config,loading:!1,mapped:!1,cruxID:null,cruxIDRegistered:!1,addressMap:null,showMap:!1,showAvailableCruxID:!0,state:null,status:"",progress:0,available:!1,assets:{},names:[{value:"eos",label:"EOS Key"},{value:"btc",label:"Bitcoin"},{value:"eth",label:"Ethereum"},{value:"bnb",label:"Binance Chain"},{value:"ltc",label:"Litecoin"},{value:"dash",label:"DASH"},{value:"steem",label:"STEEM Key"},{value:"xlm",label:"Stellar Lumens"},{value:"xtz",label:"Tezos"},{value:"ada",label:"Cardano"}]}},created:function created(){"recover"===this.$route.params.fromStep&&(this.step=0)},mounted:function mounted(){var e=this;return i()(c.a.mark((function _callee(){return c.a.wrap((function _callee$(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d["a"].Wallet("crux");case 2:return e.cruxKey=t.sent,s=new o["a"].CruxClient({walletClientName:e.walletClientName,privateKey:e.cruxKey.privateKey}),t.next=6,s.init().catch(console.log);case 6:return t.next=8,s.getCruxIDState();case 8:if(e.existingCruxID=t.sent.cruxID,!e.existingCruxID){t.next=18;break}return e.cruxIDRegistered=!0,e.config.cruxID=e.existingCruxID,t.next=14,e.$configManager.updateConfig(e.vertoPassword,e.config);case 14:e.putAddress(),e.step=3,t.next=19;break;case 18:e.step=1;case 19:case"end":return t.stop()}}),_callee)})))()},computed:{},methods:{copyToClipboard:function copyToClipboard(e,t){this.$clipboardWrite(e),this.$q.notify({message:t?t+" Copied":"Key Copied",timeout:2e3,icon:"check",textColor:"white",type:"warning",position:"top"})},register:function register(){var e=this;return i()(c.a.mark((function _callee2(){var t;return c.a.wrap((function _callee2$(a){while(1)switch(a.prev=a.next){case 0:if(!e.available){a.next=16;break}return e.loading=!0,a.next=4,s.registerCruxID(e.cruxID.toLowerCase());case 4:if(t=a.sent,t){a.next=15;break}return e.cruxIDRegistered=!0,e.existingCruxID=e.cruxID.toLowerCase()+"@"+e.walletClientName+".crux",e.config.cruxID=e.existingCruxID,a.next=11,e.$configManager.updateConfig(e.vertoPassword,e.config);case 11:e.step=2,e.$nextTick((function(){e.putAddress()})),a.next=16;break;case 15:e.step=2;case 16:case"end":return a.stop()}}),_callee2)})))()},getAvailable:function getAvailable(){var e=this;return i()(c.a.mark((function _callee3(){return c.a.wrap((function _callee3$(t){while(1)switch(t.prev=t.next){case 0:if(!(e.cruxID.length>=4&&e.cruxID.length<=20)){t.next=7;break}return t.next=3,s.isCruxIDAvailable(e.cruxID.toLowerCase());case 3:e.available=t.sent,e.available?e.error=!1:(e.error=!0,e.errorMessage="This ID is already taken"),t.next=9;break;case 7:e.error=!0,e.errorMessage="Must start with a letter & length must be between 4 to 20, all lowercase.";case 9:case"end":return t.stop()}}),_callee3)})))()},putAddress:function putAddress(){var e=this;return i()(c.a.mark((function _callee4(){var t,a,r,n,l,i;return c.a.wrap((function _callee4$(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,s.getAssetMap();case 2:e.assets=o.sent,delete e.assets["xrp"],delete e.assets["ada"],delete e.assets["eos"],t=Object.keys(e.assets).length,a=[],r=0,n=c.a.mark((function _loop(){var s,n;return c.a.wrap((function _loop$(c){while(1)switch(c.prev=c.next){case 0:return s=i[l],r++,e.progress=Math.round(r/t*1e4)/100,e.status="Creating keys for: "+s,c.next=6,d["a"].Wallet(s);case 6:return n=c.sent,c.next=9,e.$configManager.saveWalletAndKey(e.names.find((function(e){return e.value===s})).label,e.vertoPassword,null,n.publicKey,n.privateKey,s,"mnemonic");case 9:a[s]={addressHash:n.publicKey};case 10:case"end":return c.stop()}}),_loop)})),l=0,i=Object.keys(e.assets);case 11:if(!(l<i.length)){o.next=16;break}return o.delegateYield(n(),"t0",13);case 13:l++,o.next=11;break;case 16:s.putAddressMap(a),e.mapped=!0;case 18:case"end":return o.stop()}}),_callee4)})))()},getAssets:function getAssets(){var e=this;return i()(c.a.mark((function _callee6(){return c.a.wrap((function _callee6$(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.getAssetMap();case 2:e.assets=t.sent,Object.keys(e.assets).forEach(function(){var t=i()(c.a.mark((function _callee5(t){return c.a.wrap((function _callee5$(a){while(1)switch(a.prev=a.next){case 0:if("ada"!==t){a.next=4;break}e.assets[t].keys={publicKey:"no key for ada"},a.next=7;break;case 4:return a.next=6,d["a"].Wallet(t);case 6:e.assets[t].keys=a.sent;case 7:case"end":return a.stop()}}),_callee5)})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),_callee6)})))()},dataRefresh:function dataRefresh(){var e=this;this.$store.state.wallets.tokens=[],Object(u["a"])(),this.$q.notify({color:"positive",message:"Application refreshing"}),setTimeout((function(){e.$router.push({path:"/verto/dashboard"})}),300)}}},x=p,v=(a("7c1c"),a("2877")),f=Object(v["a"])(x,render,r,!1,null,"6e178dc0",null);t["default"]=f.exports}}]);